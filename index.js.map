{"version":3,"file":"index.js","sources":["../src/js/burger-menu.js","../src/js/artists/artists-api.js","../src/js/artists/artists-render.js","../src/js/artists/main-artists.js","../src/js/artists-details/artist-details-api.js","../src/js/artists-details/artist-details-render.js","../src/js/artists-details/main-artist-details.js"],"sourcesContent":["(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n    menuLinks: document.querySelectorAll('.mob-menu-link'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n\n  refs.menuLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      toggleModal();\n    });\n  });\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();\n","import axios from \"axios\";\n\nexport async function fetchArtist(page, limit) {\n    const baseUrl = \"https://sound-wave.b.goit.study/api\";\n    const endpoint = \"/artists\";\n    const url = baseUrl + endpoint;\n\n        const response = await axios(url, {\n            params: {\n                limit,\n                page\n            }\n        });\n        return {\n            totalArtists: response.data.totalArtists,\n            artists: response.data.artists,\n        } \n  };","const artistsContainer = document.querySelector(\".art-list-card\");\nconst loadMore = document.querySelector(\".art-btn-loadMore\");\nconst load = document.querySelector(\".loader\");\n\nexport function markupCardArtist(data) {\n    let widthWindows = document.documentElement.clientWidth;\n  let artTextRow = widthWindows <= 768 ? 50 : 145;\n\n\n    const markup = data.map(({ strArtist, strBiographyEN, strArtistThumb, genres }) => `\n      <li class=\"art-item\">\n        <img class=\"art-img\" src=\"${strArtistThumb}\" alt=\"${strArtist}\" />\n        <ul class=\"art-genre-list\">\n          ${genres.map(genre => `<li class=\"art-genre-list-item\">${genre}</li>`).join('')}\n        </ul>\n        <h4 class=\"art-list-name\">${strArtist}</h4>\n        <p class=\"art-list-biography\">${strBiographyEN.slice(0, artTextRow)}...</p>\n        <button type=\"button\" class=\"art-btn-learnMore\">Learn More\n          <svg class=\"icon\" width=\"24\" height=\"24\">\n            <use href=\"./../../img/symbol-defs.svg#icon-caret-right\"></use>\n          </svg>\n        </button>\n      </li>\n    `).join('');\n    artistsContainer.insertAdjacentHTML(\"beforeend\", markup);\n}\n  \nexport function showLoader() {\n  load.classList.add('loader');\n};\n\nexport function hideLoader() {\n  load.classList.remove('loader');  \n};\n\nexport function statusBtnLoadMore(page, totalArtists, limit) {\n  let totalPage = Math.ceil(totalArtists / limit);\n  totalPage > page? showLoadMoreButton():hideLoadMoreButton();\n}\n\nfunction showLoadMoreButton() {\n  loadMore.classList.remove('hidden');\n}\n\nfunction hideLoadMoreButton() {\n  loadMore.classList.add('hidden');\n}\n\nexport function scroll() {\n  const el = document.querySelector(\".art-item\");\n  let ghtCard = el.getBoundingClientRect();\n    window.scrollBy({\n      top: (ghtCard.height * 2),\n      behavior: \"smooth\",\n    });\n  }","const loadMore = document.querySelector(\".art-btn-loadMore\").addEventListener(\"click\", loadMoreBtn);\nconst loader = document.getElementById('loader');\n\nimport { fetchArtist } from './artists-api.js';\nimport { markupCardArtist, hideLoader, showLoader, statusBtnLoadMore, scroll} from './artists-render.js';\nlet page = 1;\nconst limit = 8; \n\n  const getListArtist = async () => {\n    try {\n      showLoader();\n      const data = await fetchArtist(page, limit);\n      statusBtnLoadMore(page, data.totalArtists, limit)\n      hideLoader();\n      markupCardArtist(data.artists);\n    } catch (error) {\n      console.error(\"Помилка в getListArtist:\", error);\n    }\n    if (page > 1) {\n      scroll();\n  } \n  };\n  \nfunction loadMoreBtn(event) {\n  event.preventDefault();\n  ++page;\n    getListArtist();\n}\n  \ngetListArtist();","const BASE_URL = 'https://sound-wave.b.goit.study/api';\n\nexport async function fetchArtistDetails(id) {\n  try {\n    const response = await fetch(`${BASE_URL}/artists/${id}`);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch artist details: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API Error:', error);\n    throw error;\n  }\n}\n\n\n","export function renderArtistModal(artist) {\n  if (!artist || typeof artist !== 'object') {\n    return '<p class=\"error\">No artist data available</p>';\n  }\n\n  // Обробка років існування\n  const yearsExistence = artist.startYear\n    ? (artist.endYear ? `${artist.startYear} - ${artist.endYear}` : `${artist.startYear} - present`)\n    : 'Information missing';\n\n  // Список жанрів\n  const genresList = Array.isArray(artist.genres) && artist.genres.length\n    ? `<ul class=\"genres-list-details\">\n        ${artist.genres.map(genre => `<li class=\"genres-item-details\">${genre}</li>`).join('')}\n      </ul>`\n    : '<p>Genres not specified</p>';\n\n  // Список альбомів з треками\n  const albumsList = Array.isArray(artist.albums) && artist.albums.length\n    ? `<ul class=\"albums-list\">\n        ${artist.albums.map(album => {\n          const tracksHeader = `\n            <li class=\"tracks-header\">\n              <span>Track</span>\n              <span>Time</span>\n              <span>Link</span>\n            </li>`;\n\n          const tracksList = Array.isArray(album.tracks)\n            ? album.tracks.map(track => {\n                const youtubeIcon = track.youtube\n                  ? `<a href=\"${track.youtube}\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"YouTube: ${track.title}\">\n                      <svg width=\"16\" height=\"16\">\n                        <use href=\"../img/symbol-defs.svg#icon-Youtube\"></use>\n                        <path d=\"M10 15l5-3-5-3v6z\"/>\n                        <path d=\"M21.8 7.2s-.2-1.4-.8-2c-.7-.8-1.5-.8-1.9-.9C15 4 12 4 12 4h0s-3 0-6 .3c-.8.1-1.6.6-2.1 1.4-.4.6-.5 1.4-.5 1.7-.1.5-.1 1.1-.1 1.7v1.8c0 .6 0 1.2.1 1.7 0 .3.1 1.1.5 1.7.5.8 1.3 1.3 2.1 1.4 1.5.1 6 .3 6 .3s3 0 6-.3c.7-.1 1.4-.6 1.9-1.4.6-.7.8-2 .8-2v-3.6z\"/>\n                      </svg>\n                    </a>`\n                  : '';\n\n                return `\n                  <li class=\"track-item\">\n                    <span class=\"track-title\">${track.title}</span>\n                    <span class=\"track-duration\">${track.duration}</span>\n                    <span class=\"track-youtube\">${youtubeIcon}</span>\n                  </li>`;\n              }).join('')\n            : '';\n\n          return `\n            <li class=\"album-item\">\n              <h4 class=\"album-title\">${album.title}</h4>\n              <ul class=\"tracks-list\">\n                ${tracksHeader}\n                ${tracksList}\n              </ul>\n            </li>`;\n        }).join('')}\n      </ul>`\n    : '<p>There are no albums</p>';\n\n  return `\n    <div class=\"modal\">\n      <button class=\"close-modal-btn\" type=\"button\">\n        <svg class=\"icon-close-btn\" width=\"16\" height=\"16\">\n          <use href=\"../img/symbol-defs.svg#icon-close-btn\"></use>\n        </svg>\n      </button>\n\n      <h2 class=\"artist-name\">${artist.name}</h2>\n      <img class=\"img-details\" src=\"${artist.image}\" alt=\"Photo ${artist.name}\" />\n\n      <ul class=\"artist-info-list\">\n        <li><strong>Years active:</strong> ${yearsExistence}</li>\n        <li><strong>Sex:</strong> ${artist.gender || 'Unknown'}</li>\n        <li><strong>Members:</strong> ${artist.membersCount || 'Unknown'}</li>\n        <li><strong>Country:</strong> ${artist.country || 'Unknown'}</li>\n      </ul>\n\n      <div class=\"biography-div\">\n        <h3 class=\"title-biography\">Biography</h3>\n        <p class=\"text-biography\">${artist.biography || 'Biography missing'}</p>\n      </div>\n\n      <div class=\"genres-div\">\n        <h3 class=\"title-genres\">Genres</h3>\n        ${genresList}\n      </div>\n\n      <div class=\"albums-div\">\n        <h3 class=\"title-album\">Albums</h3>\n        ${albumsList}\n      </div>\n    </div>\n  `;\n}","import { fetchArtistDetails } from './artist-details-api.js';\nimport { renderArtistModal } from './artist-details-render.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const modalOverlay = document.querySelector('.modal-overlay');\n\nasync function openArtistModal(artistId) {\n  try {\n    showLoader();\n    const artist = await fetchArtistDetails(artistId);\n    modalOverlay.innerHTML = renderArtistModal(artist);\n    modalOverlay.classList.add('is-open');\n    document.body.classList.add('modal-open');\n    addEventListeners();\n\n    input.value = '';\n\n  } catch (error) {\n    showToast('Failed to load artist data.');\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction closeModal() {\n  modalOverlay.classList.remove('is-open');\n  document.body.classList.remove('modal-open');\n  modalOverlay.innerHTML = ''; // очищення\n  removeEventListeners();\n}\n\nfunction handleOverlayClick(event) {\n  if (event.target === modalOverlay) closeModal();\n}\n\nfunction handleEscKey(event) {\n  if (event.key === 'Escape') closeModal();\n}\n\nfunction addEventListeners() {\n  const closeBtn = modalOverlay.querySelector('.close-modal-btn');\n  closeBtn?.addEventListener('click', closeModal);\n  modalOverlay.addEventListener('click', handleOverlayClick);\n  window.addEventListener('keydown', handleEscKey);\n}\n\nfunction removeEventListeners() {\n  window.removeEventListener('keydown', handleEscKey);\n  modalOverlay.removeEventListener('click', handleOverlayClick);\n}\n\nfunction showLoader() {\n  modalOverlay.innerHTML = `<div class=\"loader\">Loading...</div>`;\n}\nfunction hideLoader() {\n  const loader = modalOverlay.querySelector('.loader');\n  if (loader) loader.remove();\n}\nfunction showToast(message) {\n  alert(message); \n}\n\n\n// для тимчасової кнопки\n  const openBtn = document.getElementById('testOpenBtn');\n  const input = document.getElementById('artistIdInput');\n\n  openBtn?.addEventListener('click', () => {\n    const id = input?.value.trim();\n    if (id) {\n      openArtistModal(id);\n    } else {\n      alert('Enter the artist ID.');\n    }\n  });\n});\n\nfetch('https://sound-wave.b.goit.study/api/artists')\n  .then(res => res.json())\n  .then(data => {\n    console.log(data);\n    data.artists.forEach(artist => console.log(artist._id, artist.name));\n  })\n  .catch(console.error);\n// тимчасово"],"names":["refs","toggleModal","link","fetchArtist","page","limit","url","response","axios","artistsContainer","loadMore","load","markupCardArtist","data","artTextRow","markup","strArtist","strBiographyEN","strArtistThumb","genres","genre","showLoader","hideLoader","statusBtnLoadMore","totalArtists","showLoadMoreButton","hideLoadMoreButton","scroll","ghtCard","loadMoreBtn","getListArtist","error","event","BASE_URL","fetchArtistDetails","id","renderArtistModal","artist","yearsExistence","genresList","albumsList","album","tracksHeader","tracksList","track","youtubeIcon","modalOverlay","openArtistModal","artistId","addEventListeners","input","showToast","closeModal","removeEventListeners","handleOverlayClick","handleEscKey","closeBtn","loader","message","openBtn","res"],"mappings":"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"}